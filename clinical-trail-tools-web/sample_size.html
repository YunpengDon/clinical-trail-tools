<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Clinical Trial Tools</title>
	<link rel="shortcut icon" href="img/icon.png">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
	<!-- JavaScript Bundle with Popper -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
	<script type="text/javascript" src="js/sample_size_calculator.js"></script>
	<link rel="stylesheet" type="text/css" href="css/mystyle.css">
</head>
<body>
	<nav class="navbar navbar-expand-lg navbar-light" style="background-color: #e3f2fd;">
		<a class="navbar-brand" href="index.html">
      		<img src="./img/icon.png" alt="icon" width="30" height="30">Clinical Trial Tools
		</a>

		<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavbar">
    		<span class="navbar-toggler-icon"></span>
  		</button>

  		<div class="collapse navbar-collapse" id="collapsibleNavbar">
		<ul class="navbar-nav nav-pills">
			<li class="nav-item">
				<a class="nav-link" href="index.html">Home</a>
			</li>
			<li class="nav-item">
				<a class="nav-link active" href="sample_size.html">Sample Size Calculator</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="confusing_matrix.html">Confusing Matrix</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="life_cycle.html">Phases of Clinical Trials</a>
			</li>
		</ul>
		</div>
	</nav>
	
	<div class="container">
		<h1 class="py-3 my-4">Sample Size Calculator (Two Independent Groups)</h1>
		<form>
			<div class="row">
				<label class="col-md-5" for="proportion">Proportions or means</label>
				<div class="col-md-4">
					<select class="form-select" id="proportion" onchange="change_select_proportion()">
						<option>Means</option>
						<option>Proportions</option>
					</select>
				</div>
			</div>

			<div class="row">
				<label class="col-md-5" for="TrailType">Type of trial</label>
				<div class="col-md-4">
					<select class="form-select" id="TrailType" onchange="change_select_type_of_trial()">
						<option>Non-inferior/Superior</option>
						<option>Equivalence</option>
					</select>
				</div>
			</div>

			<div class="row">
				<label class="col-md-5" for="alpha">Type I Error Rate, &#945;  <span data-bs-toggle="tooltip" title="level of significance"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle" viewBox="0 0 16 16">
					<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
					<path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
				</svg></span></label>
				<div  class="col-md-4">
					<select class="form-select" id="alpha">
						<option>0.10</option>
						<option selected = "selected">0.05</option>
						<option>0.025</option>
						<option>0.01</option>
					</select>
				</div>
			</div>
			
			<div class="row">
				<label class="col-md-5" for="power">Power, 1-&#946;</label>
				<div  class="col-md-4"><input class="form-control" type="number" id="power" name="power" value="0.80" step="0.10" min="0" max="1" readonly></div>
			</div>

			<div class="row proportions-input">
				<label class="col-md-5" for="TestProportion">Test Group Proportion, p<sub>t</sub></label>
				<div  class="col-md-4"><input class="form-control" type="number" id="TestProportion" name="TestProportion" value="0.85" min="0" max="1"></div>
			</div>

			<div class="row proportions-input">
				<label class="col-md-5" for="ControlProportion">Control Group Proportion, p<sub>c</sub></label>
				<div  class="col-md-4"><input class="form-control" type="number" id="ControlProportion" name="ControlProportion" value="0.65" min="0" max="1"></div>
			</div>

			<div class="row means-input">
				<label class="col-md-5" for="TestMean">Test Group Mean, &#956;<sub>t</sub></label>
				<div  class="col-md-4"><input class="form-control" type="number" id="TestMean" name="TestMean" value="5"></div>
			</div>

			<div class="row means-input">
				<label class="col-md-5" for="ControlMean">Control Group Mean, &#956;<sub>c</sub></label>
				<div  class="col-md-4"><input class="form-control" type="number" id="ControlMean" name="ControlMean" value="5"></div>
			</div>

			<div class="row means-input">
				<label class="col-md-5" for="StandardDeviation">Standard Deviation, &#963;</label>
				<div  class="col-md-4"><input class="form-control" type="number" id="StandardDeviation" name="StandardDeviation" value="10"></div>
			</div>

			<div class="row proportions-input">
				<label class="col-md-5" for="SuperiorityMargin" id="SuperiorityMargin_title">Non-inferiority or Superiority Margin, &#948;</label>
				<div  class="col-md-4"><input class="form-control" type="number" id="SuperiorityMargin" name="SuperiorityMargin" value="-0.10"></div>
			</div>

			<div class="row means-input">
				<label class="col-md-5" for="SuperiorityMarginMeans" id="SuperiorityMarginMeans_title">Non-inferiority or Superiority Margin, &#948;</label>
				<div  class="col-md-4"><input class="form-control" type="number" id="SuperiorityMarginMeans" name="SuperiorityMarginMeans" value="5"></div>
			</div>

			<div class="row">
				<label class="col-md-5" for="SamplingRatio">Sampling Ratio, k = n<sub>t</sub>/n<sub>c</sub></label>
				<div  class="col-md-4"><input class="form-control" type="number" id="SamplingRatio" name="SamplingRatio" value="1"></div>
			</div>


			<div class="row">
				<button type="button" class="col-md-6 btn btn-primary btn-lg" id="Calculate" onclick="SampleSizeCalculator()">Calculate</button>
				<div class="col-md-8" id="Results">
					<p>Sample Size<span id="infoSmallSampleSize" data-bs-toggle="tooltip" title="Sample sizes are not sufficiently large, please use other formulas to calculate them!"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle" viewBox="0 0 16 16">
						<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
						<path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
					</svg></span>:</p>
					<p id="SampleSizeC" class="text-success">n<sub>c</sub> = 50</p>
					<p id="SampleSizeT" class="text-success">n<sub>t</sub> = 50</p>
				</div>
				<details>
					<summary><b>Reference</b></summary>
					<p>Chow, S.-C., Shao, J., Wang, H., & Lokhnygina, Y. (2017). Sample Size Calculations in Clinical Research: Third Edition (3rd ed.). Chapman and Hall/CRC. https://doi.org/10.1201/9781315183084</p>
				  </details>
			</div>
		</form>
			
	</div>

	<div class="container">
		<footer class="footer py-3 my-4 border-top">
			<p class="text-center text-muted">This is Yunpeng's final course project</p>
		</footer>
	</div>
<script>
	// initialize tooltips
	var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
	var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
	  return new bootstrap.Tooltip(tooltipTriggerEl)
	})
	</script>
</body>
</html>